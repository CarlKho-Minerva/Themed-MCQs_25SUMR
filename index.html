<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valorant Bone Disease Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css"> <!-- Link to external CSS -->
    <!-- Include pdf.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script>
        // Required configuration for pdf.js
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.worker.min.js';
    </script>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="card w-full max-w-2xl p-6">
        <h1 class="text-2xl font-bold text-center mb-4">Valorant Bone Disease Recall</h1>

        <!-- PDF Upload Section -->
        <div id="upload-section" class="mb-6 p-4 border border-gray-600 rounded-lg">
            <h2 class="text-lg font-semibold mb-3 text-center">Generate Quiz from Your Notes</h2>
            <label for="pdf-upload" class="block mb-2 text-sm font-medium text-gray-400">Upload PDF Notes:</label>
            <input type="file" id="pdf-upload" accept=".pdf" class="block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-gray-600 file:text-gray-200 hover:file:bg-gray-500 mb-3"/>
            <button id="process-pdf-button" class="btn btn-primary w-full">Process PDF & Generate Quiz</button>
            <div id="loading-indicator" class="mt-3 text-center text-blue-400" style="display: none;">Processing PDF...</div>
            <div id="error-message" class="mt-3 text-center text-red-400" style="display: none;"></div>
        </div>

        <!-- Existing Quiz Content -->
        <div id="quiz-content">
            <div id="progress-container" class="mb-4">
                <div class="text-sm text-gray-400 mb-1 text-right" id="progress-text">Disease 1 / 16</div>
                <div class="progress-bar-bg h-2 w-full">
                    <div id="progress-bar" class="progress-bar-fill" style="width: 0%;"></div>
                </div>
            </div>

            <div id="story-section" class="mb-4 p-4 bg-gray-700 rounded-lg">
                <h2 class="text-lg font-semibold mb-2">Scenario:</h2>
                <p id="story-text" class="text-gray-300"></p>
            </div>

            <div id="question-section" class="mb-4">
                <p id="question-text" class="mb-3 font-semibold"></p>
                <div id="options-container">
                </div>
            </div>

            <div id="feedback-section" class="feedback" style="display: none;">
                <p id="feedback-text" class="mb-2"></p>
                <div id="feedback-details">
                </div>
            </div>

            <div class="mt-4 flex flex-col sm:flex-row sm:justify-between">
                <button id="check-button" class="btn btn-primary mb-2 sm:mb-0 sm:mr-2 flex-1">Check Answer</button>
                <button id="next-button" class="btn btn-next flex-1" style="display: none;">Next Disease</button>
            </div>

            <div id="summary-section" class="mt-6 text-center" style="display: none;">
                <h2 class="text-xl font-bold mb-3">Quiz Complete!</h2>
                <p id="score-text" class="mb-4"></p>
                <button id="restart-button" class="btn btn-primary w-full sm:w-auto">Restart Quiz</button>
            </div>
        </div>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
